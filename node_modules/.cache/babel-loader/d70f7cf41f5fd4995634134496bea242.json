{"ast":null,"code":"import i18next from \"i18next\";\nimport { urlsCommon, urlsOut, urlsTR, urlsEN } from './urls';\nconst LANG_KEY = \"fish_to_whale_lang\";\nexport const urlObj = {\n  tr: urlsTR,\n  en: urlsEN\n};\nexport const isCommonPage = () => {\n  return Object.values(urlsCommon).find(value => {\n    var _window, _window$location;\n\n    return value === ((_window = window) === null || _window === void 0 ? void 0 : (_window$location = _window.location) === null || _window$location === void 0 ? void 0 : _window$location.pathname);\n  });\n};\n\nconst checkLanguage = val => {\n  return ['en', 'tr'].includes(val) ? val : 'tr';\n};\n\nexport const Language = {\n  change: langParam => {\n    try {\n      var _window3, _window3$location;\n\n      const lang = checkLanguage(langParam);\n      i18next.changeLanguage(lang);\n      localStorage.setItem(LANG_KEY, lang);\n\n      if (isCommonPage()) {\n        return;\n      }\n\n      const translatedPathName = Object.values(urlObj).reduce((acc, item) => {\n        let result = acc;\n        const index = Object.values(item).findIndex(value => {\n          var _window2, _window2$location;\n\n          return value === ((_window2 = window) === null || _window2 === void 0 ? void 0 : (_window2$location = _window2.location) === null || _window2$location === void 0 ? void 0 : _window2$location.pathname);\n        });\n\n        if (index > -1 && lang in urlObj) {\n          result = Object.values(urlObj[lang])[index];\n        }\n\n        return result;\n      }, '/');\n      history.replaceState('', '', `${translatedPathName}${(_window3 = window) === null || _window3 === void 0 ? void 0 : (_window3$location = _window3.location) === null || _window3$location === void 0 ? void 0 : _window3$location.search}`);\n    } catch (err) {\n      var _window4, _window4$location;\n\n      console.log('err', err);\n      history.replaceState('', '', `/${(_window4 = window) === null || _window4 === void 0 ? void 0 : (_window4$location = _window4.location) === null || _window4$location === void 0 ? void 0 : _window4$location.search}`);\n    }\n  },\n  get: () => {\n    if (window.location.pathname !== \"/\" && !isCommonPage()) {\n      const langFromUrl = checkLanguage(window.location.pathname.split('/')[1]);\n      return langFromUrl;\n    }\n\n    const lang = checkLanguage(localStorage.getItem(LANG_KEY));\n\n    if (!lang) {\n      var _window5, _window5$navigator, _window5$navigator$la;\n\n      return checkLanguage(((_window5 = window) === null || _window5 === void 0 ? void 0 : (_window5$navigator = _window5.navigator) === null || _window5$navigator === void 0 ? void 0 : (_window5$navigator$la = _window5$navigator.language) === null || _window5$navigator$la === void 0 ? void 0 : _window5$navigator$la.split(\"-\")[0]) || 'tr');\n    }\n\n    return lang.toString();\n  }\n};\nexport const urls = { ...urlObj[Language.get()],\n  ...urlsOut,\n  ...urlsCommon\n};","map":{"version":3,"names":["i18next","urlsCommon","urlsOut","urlsTR","urlsEN","LANG_KEY","urlObj","tr","en","isCommonPage","Object","values","find","value","window","location","pathname","checkLanguage","val","includes","Language","change","langParam","lang","changeLanguage","localStorage","setItem","translatedPathName","reduce","acc","item","result","index","findIndex","history","replaceState","search","err","console","log","get","langFromUrl","split","getItem","navigator","language","toString","urls"],"sources":["/Users/gizem/Desktop/fish-to-whale/src/utils/language.ts"],"sourcesContent":["import i18next from \"i18next\";\nimport {urlsCommon, urlsOut, urlsTR, urlsEN} from './urls';\n\nconst LANG_KEY = \"fish_to_whale_lang\";\n\nexport const urlObj: any = {\n    tr: urlsTR,\n    en: urlsEN,\n};\n\nexport const isCommonPage = () => {\n    return Object.values(urlsCommon).find(value => value === window?.location?.pathname);\n};\n\nconst checkLanguage = (val: string) => {\n    return ['en', 'tr'].includes(val) ? val : 'tr';\n};\n\nexport const Language = {\n    change: (langParam: string) => {\n        try {\n            const lang = checkLanguage(langParam)\n            i18next.changeLanguage(lang);\n            localStorage.setItem(LANG_KEY, lang);\n\n            if (isCommonPage()) {\n                return;\n            }\n\n            const translatedPathName: any = Object.values(urlObj)\n                .reduce((acc, item: any) => {\n                    let result = acc;\n\n                    const index = Object.values(item).findIndex(value => value === window?.location?.pathname);\n\n                    if (index > -1 && lang in urlObj) {\n                        result = Object.values(urlObj[lang])[index];\n                    }\n\n                    return result;\n                }, '/');\n\n            history.replaceState('', '', `${translatedPathName}${window?.location?.search}`);\n        } catch (err) {\n            console.log('err', err);\n            history.replaceState('', '', `/${window?.location?.search}`);\n        }\n    },\n    get: (): string => {\n        if (window.location.pathname !== \"/\" && !isCommonPage()) {\n            const langFromUrl = checkLanguage(window.location.pathname.split('/')[1]);\n\n            return langFromUrl;\n        }\n\n        const lang = checkLanguage(localStorage.getItem(LANG_KEY) as string);\n\n        if (!lang) {\n            return checkLanguage(window?.navigator?.language?.split(\"-\")[0] || 'tr');\n        }\n\n        return lang.toString();\n    }\n};\n\nexport const urls = {...urlObj[Language.get()], ...urlsOut, ...urlsCommon};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}